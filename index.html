<!DOCTYPE html>
<html>
<head>
	<!-- meta stuff -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Scrabble - Colebot.com</title>

	<!-- beautiful css -->
	<link rel="stylesheet" type="text/css" href="http://www.colebot.com/style.css">
	<link rel="stylesheet" type="text/css" href="styles/scrabble.css">

	<!-- import the font 'Rubik' -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap" rel="stylesheet">

	<!-- import material symbols -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

	<!-- import the tab icon -->
	<link rel="shortcut icon" type="image/x-icon" href="http://www.colebot.com/favicon.ico">  
</head>
<body class="scrabble">
	<center>
		<div class="grid" id="scrabbleGrid" data-tab="account" data-signedin="loading">
			<div id="welcomeCell" class="gridCell">
				<h1>Scrabble Game</h1>
				<p>
					If you enjoy playing the classic board game Scrabble, then you may also find it difficult to
					gather your friends and family around the same table for a game. With this website, everyone
					can enjoy a good game of Scrabble right from their phone, tablet, or computer. You can make
					your move on your own schedule and check back later when it's your turn again.
				</p>
			</div>

			<div id="loadingCell" class="gridCell">
				<div class="spinner"></div>
			</div>

			<div id="gameControlsCell" class="gridCell">
				<div class="contentControls">
					<button class="iconButton" id="backToGamesListButton" onclick="showTab('account')">
						<span class="material-symbols-rounded">
							chevron_left
						</span>
					</button>
					<button class="iconButton" id="reloadGameButton" onclick="reloadGame()">
						<span class="material-symbols-rounded">
							refresh
						</span>
					</button>
					<button class="iconButton hidden" id="fullscreenButton" onclick="toggleFullScreen()">
						<span class="material-symbols-rounded" id="fullscreenIcon">
							fullscreen
						</span>
					</button>
					<button class="iconButton" id="showChatButton" onclick="showTab('chat')">
						<span class="material-symbols-rounded">
							chat
						</span>
					</button>
				</div>
				<div class="gameInfoBox"></div>
				<div class="gameControlButtons flex stretch">
					<button class="highlight flexGrow2" id="makeMoveButton" onclick="makeMove()">Move</button>
					<div class="flex col stretch flexGrow">
						<button class="flexGrow" id="skipTurnButton" onclick="exchangeLetters()">Skip Turn</button>
						<button class="flexGrow" id="endGameButton" onclick="endGame()"></button>
					</div>
				</div>
			</div>

			<div id="chatCell" class="gridCell">
				<div class="chatTitleLine">
					<button id="chatBackButton" class="iconButton backButton" onclick="showTab('game')">
						<span class="material-symbols-rounded">
							chevron_left
						</span>
					</button>
					<h3 class="chatTitle">
						Game Chat
					</h3>
					<button id="chatExpandButton" class="iconButton" onclick="showTab('chat')">
						<span class="material-symbols-rounded smallIcon">
							open_in_full
						</span>
					</button>
					<button id="chatCloseButton" class="iconButton" onclick="showTab('game')">
						<span class="material-symbols-rounded smallIcon">
							close_fullscreen
						</span>
					</button>
				</div>
				<div class="chatContent">
					<div class="chatMessage">
						<div class="chatMessageLine1">
							<div class="chatMessageSender">Colebot</div>
							<div class="chatMessageTimestamp">10:29</div>
						</div>
						<div class="chatMessageText">I'm crushing you!</div>
					</div>
				</div>
				<div class="chatControls">
					<input name="chatInput" id="chatInput" class="chatInput" placeholder="Send a message..." onkeypress="if (event.key === 'Enter') {sendChatMessage()}">
					<button class="chatSendButton iconButton" onclick="sendChatMessage()">
						<span class="material-symbols-rounded">send</span>
					</button>
				</div>
			</div>

			<div id="canvasCell" class="gridCell flex col">
				<div id="gameBanner" class="hidden"></div>
				<div id="canvasWrapper">
					<canvas id="scrabbleCanvas">
						This project requires the canvas element, which is not supported on your browser.
					</canvas>
				</div>
			</div>

			<div id="signInCell" class="gridCell">
				<form class="hidden accountForm" id="signInForm" data-action="signIn" onsubmit="return false;">
					<div class="flex">
						<button id="signInBackButton" class="iconButton hidden" onclick="setSignInMode('accountSwitcher')">
							<span class="material-symbols-rounded smallIcon">chevron_left</span>
						</button>
						<h3>Sign In</h3>
					</div>
					<label for="signInUsername">Username:</label>
					<input class="accountFormInput" autocomplete="username" type="text" name="username" id="signInUsername"><br>

					<label for="signInPwd">Password:</label>
					<input class="accountFormInput" autocomplete="password" type="password" name="pwd" id="signInPwd"><br>

					<button id="signInSubmitButton" type="submit" onclick="signIn()">Sign In</button>
					<!-- <br> -->
					<a id="createAccountModeButton" onclick="setSignInMode('createAccount')" class="hoverLine small">Create Account</a>
					<!-- â€“
					<a onclick="setSignInMode('resetPassword')" class="hoverLine small">Forgot Password?</a> -->
				</form>
				
				<form class="hidden accountForm" id="createAccountForm" data-action="createAccount" onsubmit="return false;">
					<h3>Create Account</h3>
					<label for="createAccountUsername">Username:</label>
					<input class="accountFormInput" autocomplete="username" type="text" name="username" id="createAccountUsername"><br>

					<label for="createAccountPwd">Password:</label>
					<input class="accountFormInput" autocomplete="new-password" type="password" name="pwd" id="createAccountPwd"><br>

					<label for="createAccountConfirmPwd">Confirm Password:</label>
					<input class="accountFormInput" autocomplete="new-password" type="password" name="confirmPwd" id="createAccountConfirmPwd"><br>

					<button type="submit" onclick="createAccount()">Create Account</button>
					<a onclick="setSignInMode('signIn')" class="hoverLine small">Sign In</a>
				</form>

				<form class="hidden accountForm" id="changePasswordForm" data-action="changePassword" onsubmit="return false;">
					<div class="flex">
						<button class="iconButton" onclick="setSignInMode('settings')">
							<span class="material-symbols-rounded smallIcon">chevron_left</span>
						</button>
						<h3>Change Password</h3>
					</div>

					<label for="changePasswordPwd">Current Password:</label>
					<input class="accountFormInput" autocomplete="password" type="password" name="pwd" id="changePasswordPwd"><br>

					<label for="changePasswordNewPwd">New Password:</label>
					<input class="accountFormInput" autocomplete="new-password" type="password" name="newPwd" id="changePasswordNewPwd"><br>

					<label for="changePasswordConfirmNewPwd">Confirm New Password:</label>
					<input class="accountFormInput" autocomplete="new-password" type="password" name="confirmNewPwd" id="changePasswordConfirmNewPwd"><br>

					<button type="submit" onclick="changePassword()">Change Password</button>
					<!-- <br>
						
					<span class="finePrint">Email <a class="underline hoverDarken" href="mailto:colebot17@gmail.com?subject=Reset%20my%20Password">colebot17@gmail.com</a> if you don't know your current password.</span> -->
				</form>

				<form class="hidden accountForm" id="changeUsernameForm" data-action="changeUsername" onsubmit="return false;">
					<div class="flex">
						<button class="iconButton" onclick="setSignInMode('settings')">
							<span class="material-symbols-rounded smallIcon">chevron_left</span>
						</button>
						<h3>Change Username</h3>
					</div>

					<label for="changeUsernameNewName">New Username:</label>
					<input class="accountFormInput" autocomplete="username" type="text" name="newName" id="changeUsernameNewName"><br>

					<label for="changeUsernamePwd">Password:</label>
					<input class="accountFormInput" autocomplete="password" type="password" name="pwd" id="changeUsernamePwd"><br>

					<button type="submit" onclick="changeUsername()">Change Username</button>
				</form>

				<!-- <form class="hidden accountForm" id="resetPasswordForm" data-action="resetPassword" onsubmit="return false;">
					<div class="flex">
						<button class="iconButton" onclick="setSignInMode('signIn')">
							<span class="material-symbols-rounded smallIcon">chevron_left</span>
						</button>
						<h3>Reset Password</h3>
					</div>

					<span class="finePrint">You will need to request a password reset key from <a class="underline hoverDarken" href="mailto:colebot17@gmail.com?subject=Password%20Reset%20Key">colebot17@gmail.com</a>.</span><br><br>

					<label for="resetPasswordUsername">Username:</label>
					<input class="accountFormInput" autocomplete="username" type="text" name="username" id="resetPasswordUsername"><br>

					<label for="resetPasswordKey">Password Reset Key:</label>
					<input class="accountFormInput" autocomplete="off" type="text" id="resetPasswordKey" name="resetPasswordKey"><br>

					<label for="resetPasswordPwd">New Password:</label>
					<input class="accountFormInput" autocomplete="new-password" type="password" name="pwd" id="resetPasswordPwd"><br>

					<label for="resetPasswordConfirmPwd">Confirm New Password:</label>
					<input class="accountFormInput" autocomplete="new-password" type="password" name="confirmPwd" id="resetPasswordConfirmPwd"><br>

					<button type="submit" onclick="resetPassword()">Reset Password</button>
				</form> -->

				<div class="hidden accountForm" id="accountSwitcherForm">
					<div class="flex">
						<button class="iconButton" onclick="setSignInMode('settings')">
							<span class="material-symbols-rounded smallIcon">chevron_left</span>
						</button>
						<h3>Switch Accounts</h3>
					</div>

					<div class="accountList" id="accountSwitcherList">
						Available accounts will appear here.
					</div>
					<br>
					<a class="finePrint hoverDarken hoverLine" onclick="removeAllSavedAccounts()">Remove all saved accounts</a>
				</div>

				<div class="hidden accountForm" id="settingsForm">
					<div class="flex">
						<button class="iconButton" onclick="setSignInMode('signOut')">
							<span class="material-symbols-rounded smallIcon">chevron_left</span>
						</button>
						<h3>Settings</h3>
					</div>
					<div id="settings">
						<div class="settingsSection">
							<a onclick="setSignInMode('changeUsername')" class="hoverLine small" tabindex="0">Change Username</a>
							<a onclick="setSignInMode('changePassword')" class="hoverLine small" tabindex="0">Change Password</a>
							<a onclick="setSignInMode('accountSwitcher')" class="hoverLine small" tabindex="0">Switch Accounts</a>
							<button onclick="signOut()">Sign Out</button>
						</div>
						<div class="settingsSection">
							<div id="displayModeButtonContainer">
								<button class="iconButton displayModeButton" id="cardViewButton" title="Card View (Default)" aria-pressed="true" onclick="setDisplayMode('card')">
									<span class="material-symbols-rounded">grid_view</span>
								</button>
								<button class="iconButton displayModeButton" id="listViewButton" title="List View" onclick="setDisplayMode('list')">
									<span class="material-symbols-rounded">view_list</span>
								</button>
							</div>
							<span class="finePrint" title="Affects current browser only">Game List View</span>
						</div>
					</div>
				</div>

				<div class="hidden accountForm flex gap10 col mobileRow" id="signOutForm">
					<span id="accountNameLabel"></span>
					<button class="iconButton" id="settingsButton" onclick="setSignInMode('settings')" title="Settings">
						<span class="material-symbols-rounded">settings</span>
					</button>
				</div>
			</div>

			<div id="gamesCell" class="gridCell" data-displaymode="card">
				<div class="gamesListBox" id="activeGames">
					<div class="flex gap10">
						<button class="iconButton" id="gamesListRefreshButton" onclick="loadGamesList()">
							<span class="material-symbols-rounded">refresh</span>
						</button>
						<h1 class="inline">Active Games</h1>
						<button class="iconButton" id="viewInactiveGamesButton" onclick="setGamesList('inactive')">
							<span class="material-symbols-rounded">chevron_right</span>
						</button>
					</div>
					<span id="activeGamesListMessage">Please create an account or sign in.</span>
					<div class="gamesListWrapper">
						<div class="gamesList" id="activeGamesList"></div>
					</div>
				</div>
				<div class="gamesListBox hidden" id="inactiveGames">
					<div class="flex gap10">
						<button class="iconButton" id="activeGamesButton" onclick="setGamesList('active')">
							<span class="material-symbols-rounded">chevron_left</span>
						</button>
						<h1 class="inline">Inactive Games</h1>
					</div>
					<span id="inactiveGamesListMessage">Please create an account or sign in.</span>
					<div class="gamesListWrapper">
						<div class="gamesList" id="inactiveGamesList"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal hidden" id="createGameModal">
			<h2>Create Game</h2>
			<h3>Players</h3>
			<div id="createGamePlayerList"></div>
			<div class="addPlayerRow">
				<input id="createGamePlayerInput" type="text" name="createGamePlayerInput" placeholder="Player Name">
				<button id="createGamePlayerAddButton" class="iconButton" onclick="addPlayerToNewGame()">
					<span class="material-symbols-rounded">
						add
					</span>
				</button>
			</div>
			<div class="createGameButtons">
				<button id="createGameCancel" onclick="$('#createGameModal').modalClose()">Cancel</button>
				<button class="highlight" id="createGameModalButton" onclick="createGame()">Create Game</button>
			</div>
		</div>
		<div class="modal hidden" id="letterExchangeModal">
			<h2>Choose letters to exchange</h2>
			<div class="letterBank" id="letterExchangeBank"></div>
			<div class="letterExchangeButtons">
				<button id="letterExchangeCancel" onclick="$('#letterExchangeModal').modalClose()">Cancel</button>
				<button class="highlight" id="letterExchangeButton" onclick="skipTurn()">Skip Turn</button>
			</div>
		</div>
		<div class="modal hidden" id="textModal">
			<h3 id="textModalTitle"></h3>
			<div id="textModalText"></div>
			<div id="textModalControls">
				<input id="textModalInput" name="textModalInput" type="text" class="hidden"></input>
				<div id="textModalButtonHolder">
					<button class="textModalButton hidden" id="textModalCancelButton" onclick="$('#textModal').modalClose()">Cancel</button>
					<button class="textModalButton highlight" id="textModalOkButton">OK</button>
				</div>
			</div>
		</div>
		<div class="modal hidden" id="chooseLetterModal">
			<h3>Pick any letter</h3>
			<input type="text" name="letterPicker" onkeydown="return /[a-zA-Z]/i.test(event.key)" maxlength="1" id="letterPicker" autocomplete="off">
			<div class="placeholder"></div>
		</div>
		<div class="popup hidden" id="wordLookupPopup">
			<button class="iconButton modalCloseButton" onclick="$('#wordLookupPopup').popupClose()">
				<span class="material-symbols-rounded">close</span>
			</button>
			<div class="wordLookupResults">
			</div>
		</div>
	</center>
	<script type="text/javascript" defer>
		windowLocation = window.location.href.slice(0, window.location.href.lastIndexOf("/"));
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> <!-- import jQuery -->
	<script type="text/javascript" src="scripts/util.js" defer></script>
	<script type="text/javascript" src="scripts/canvas.js" defer></script>
	<script type="text/javascript" src="scripts/events.js" defer></script>
	<script type="text/javascript" src="scripts/modals.js" defer></script>
	<script type="text/javascript" src="scripts/accounts.js" defer></script>
	<script type="text/javascript" src="scripts/lookup.js" defer></script>
	<script type="text/javascript" src="scripts/chat.js" defer></script>
	<script type="text/javascript" src="scripts/animate.js" defer></script>
	<script type="text/javascript" src="scripts/fullscreen.js" defer></script>
	<script type="text/javascript" src="scripts/info.js" defer></script>
	<script type="text/javascript" src="scripts/checkForChanges.js" defer></script>
	<!-- <script type="text/javascript" src="libraries/pullToRefresh.min.js" defer></script>
	<script type="text/javascript" src="libraries/confetti.js" defer></script> -->
	<script type="text/javascript" src="scripts/script.js" defer></script>
</body>
</html>